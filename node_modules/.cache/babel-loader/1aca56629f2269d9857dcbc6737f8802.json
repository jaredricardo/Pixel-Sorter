{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/jaredricardo/Desktop/apps/Pixel-Sorter/src/components/CanvasApp.js\";\nimport React, { Component } from 'react';\nimport { test, nativeSort_COL2x, nativeSort_COL, bubbleSort, nativeSort } from \"./functions\";\nimport Spinner from 'react-bootstrap/Spinner';\nimport { Row, Col, Container, Dropdown, DropdownButton } from \"react-bootstrap\";\nimport { identifier, isMemberExpression } from '@babel/types';\nimport { func } from 'prop-types';\nexport class CanvasApp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sortThePixels = () => {\n      if (!this.state.imageSelected) return alert(\"please load an image\");\n      const algo = this.state.currentSort;\n      const canvas = this.canvasRef1.current;\n      const ctx = canvas.getContext(\"2d\");\n      let copyData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n\n      if (algo === 'test') {\n        copyData = test(copyData.data, this.state.imageHeight, this.state.imageWidth);\n      }\n\n      if (algo === 'nativeSort_COL_2x') {\n        copyData = nativeSort_COL2x(copyData.data, this.state.imageHeight, this.state.imageWidth);\n      }\n\n      if (algo === 'nativeSort_COL') {\n        copyData = nativeSort_COL(copyData.data, this.state.imageHeight, this.state.imageWidth);\n      }\n\n      if (algo === 'bubbleSort') {\n        copyData = bubbleSort(copyData.data, this.state.imageHeight, this.state.imageWidth);\n      }\n\n      if (algo === 'nativeSort') {\n        copyData = nativeSort(copyData.data, this.state.imageHeight, this.state.imageWidth);\n      }\n\n      ctx.putImageData(copyData, 0, 0);\n      this.setState({\n        imageSorted: true\n      });\n    };\n\n    this.setSortOption = e => {\n      this.setState({\n        currentSort: e.target.value\n      });\n    };\n\n    this.imageLoadHandler = e => {\n      if (e.target.files[0].size > 104857600) return alert(\"File size exceeds 100MB\");\n      const canvas1 = this.canvasRef1.current;\n      const ctx = canvas1.getContext(\"2d\");\n      const canvas2 = this.canvasRef2.current;\n      const ctx2 = canvas2.getContext(\"2d\");\n      const reader = new FileReader();\n      const img = new Image();\n\n      reader.onload = secondEvent => {\n        img.onload = () => {\n          const fileSize = bytes => {\n            const mb = (bytes / 1000000).toFixed(1) + 'MB';\n            const kb = (bytes / 1000).toFixed(1) + \"KB\";\n            const digits = bytes.toString().length;\n            return digits >= 7 ? mb : kb;\n          };\n\n          canvas1.width = img.width;\n          canvas1.height = img.height;\n          canvas2.width = img.width;\n          canvas2.height = img.height;\n          ctx.drawImage(img, 0, 0);\n          ctx2.drawImage(img, 0, 0);\n          this.setState({\n            currentImageSrc: \"Place Holder\",\n            //img.src ?\n            imageFileSize: fileSize(e.target.files[0].size),\n            imageHeight: img.height,\n            imageWidth: img.width,\n            imageSelected: true,\n            imageSorted: false\n          });\n        };\n\n        img.src = secondEvent.target.result;\n      };\n\n      reader.readAsDataURL(e.target.files[0]);\n    };\n\n    this.resetImage = () => {};\n\n    this.downloadImage = () => {\n      const link = document.createElement('a');\n      link.download = 'testname';\n      link.href = this.canvasRef1.current.toDataURL();\n      link.click();\n    };\n\n    this.imageRef = /*#__PURE__*/React.createRef();\n    this.canvasRef1 = /*#__PURE__*/React.createRef();\n    this.canvasRef2 = /*#__PURE__*/React.createRef();\n    this.state = {\n      currentImageSrc: null,\n      imageFileSize: null,\n      imageHeight: null,\n      imageWidth: null,\n      imageSelected: false,\n      imageSorted: false,\n      // imageLoading: false, \n      currentSort: 'test'\n    };\n  } // drawNewImage = () => {\n  //     this.setState({\n  //         imageLoading: true\n  //     }, this.resetLoading)\n  // }\n\n\n  render() {\n    const maxStyle = {\n      maxHeight: '700px',\n      width: 'auto'\n    };\n    const trigger = {\n      visibility: this.state.imageSorted ? 'visible' : 'hidden'\n    };\n    return /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      className: \"align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            ref: this.uploadedRef,\n            onChange: this.imageLoadHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"options\",\n            id: \"sort-options\",\n            onChange: this.setSortOption,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"test\",\n              children: \"Test\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"nativeSort_COL_2x\",\n              children: \"Columned Native Sort x 2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"nativeSort_COL\",\n              children: \"Columned Native Sort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"bubbleSort\",\n              children: \"Bubble Sort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"nativeSort\",\n              children: \"Native Sort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.sortThePixels,\n            children: \"Sort image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.resetImage,\n            children: \"Reset image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.downloadImage,\n            children: \"Download\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: \"flex-grow-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: trigger,\n            children: \" Sorted Image \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: this.canvasRef1,\n            style: maxStyle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          className: \"flex-grow-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: trigger,\n            children: \" Original Image \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: this.canvasRef2,\n            style: maxStyle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nexport default CanvasApp;","map":{"version":3,"sources":["/Users/jaredricardo/Desktop/apps/Pixel-Sorter/src/components/CanvasApp.js"],"names":["React","Component","test","nativeSort_COL2x","nativeSort_COL","bubbleSort","nativeSort","Spinner","Row","Col","Container","Dropdown","DropdownButton","identifier","isMemberExpression","func","CanvasApp","constructor","props","sortThePixels","state","imageSelected","alert","algo","currentSort","canvas","canvasRef1","current","ctx","getContext","copyData","getImageData","width","height","data","imageHeight","imageWidth","putImageData","setState","imageSorted","setSortOption","e","target","value","imageLoadHandler","files","size","canvas1","canvas2","canvasRef2","ctx2","reader","FileReader","img","Image","onload","secondEvent","fileSize","bytes","mb","toFixed","kb","digits","toString","length","drawImage","currentImageSrc","imageFileSize","src","result","readAsDataURL","resetImage","downloadImage","link","document","createElement","download","href","toDataURL","click","imageRef","createRef","render","maxStyle","maxHeight","trigger","visibility","uploadedRef"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { test, nativeSort_COL2x, nativeSort_COL, bubbleSort, nativeSort } from \"./functions\"\nimport Spinner from 'react-bootstrap/Spinner';\nimport { Row, Col, Container, Dropdown, DropdownButton } from \"react-bootstrap\"\nimport { identifier, isMemberExpression } from '@babel/types'\nimport { func } from 'prop-types';\n\n\nexport class CanvasApp extends Component {\n    constructor(props) {\n        super(props)\n        this.imageRef = React.createRef()\n        this.canvasRef1 = React.createRef()\n        this.canvasRef2 = React.createRef()\n        this.state = {\n            currentImageSrc: null,\n            imageFileSize: null,\n            imageHeight: null,\n            imageWidth: null,\n            imageSelected: false,\n            imageSorted: false,\n            // imageLoading: false, \n            currentSort: 'test'\n        }\n    }\n\n      \n    // drawNewImage = () => {\n    //     this.setState({\n    //         imageLoading: true\n    //     }, this.resetLoading)\n    // }\n\n    sortThePixels = () => {\n\n        if(!this.state.imageSelected) return alert(\"please load an image\")\n\n        const algo = this.state.currentSort\n        const canvas = this.canvasRef1.current\n        const ctx = canvas.getContext(\"2d\")\n        let copyData = ctx.getImageData(0,0, canvas.width, canvas.height)\n\n        if(algo === 'test') {\n            copyData = test(copyData.data, this.state.imageHeight, this.state.imageWidth)\n        } \n        if(algo === 'nativeSort_COL_2x') {\n            copyData = nativeSort_COL2x(copyData.data, this.state.imageHeight, this.state.imageWidth)\n        } \n        if(algo === 'nativeSort_COL') {\n            copyData = nativeSort_COL(copyData.data, this.state.imageHeight, this.state.imageWidth)\n        } \n        if(algo === 'bubbleSort') {\n            copyData = bubbleSort(copyData.data, this.state.imageHeight, this.state.imageWidth)\n        } \n        if(algo === 'nativeSort') {\n            copyData = nativeSort(copyData.data, this.state.imageHeight, this.state.imageWidth)\n        } \n        ctx.putImageData(copyData,0 ,0)\n\n        this.setState({\n            imageSorted: true\n        })\n    }\n\n\n    setSortOption = (e) => {\n        this.setState({\n            currentSort: e.target.value,\n        })\n    }\n\n    imageLoadHandler = (e) => {\n\n        if(e.target.files[0].size > 104857600) return alert(\"File size exceeds 100MB\") \n\n        const canvas1 = this.canvasRef1.current\n        const ctx = canvas1.getContext(\"2d\")\n        \n        const canvas2 = this.canvasRef2.current\n        const ctx2 = canvas2.getContext(\"2d\")\n\n        const reader = new FileReader()\n        const img = new Image()\n\n        reader.onload = (secondEvent) => {\n           \n            img.onload = () => {\n\n                const fileSize = (bytes) => {\n                    const mb = (bytes / 1000000).toFixed(1) + 'MB'\n                    const kb = (bytes / 1000).toFixed(1) + \"KB\"\n                    const digits = bytes.toString().length \n                    return digits >= 7 ? mb : kb \n                }\n\n                canvas1.width = img.width\n                canvas1.height = img.height\n\n                canvas2.width = img.width\n                canvas2.height = img.height\n\n                ctx.drawImage(img,0,0)\n                ctx2.drawImage(img,0,0)\n                \n                \n                this.setState({\n                        currentImageSrc: \"Place Holder\",//img.src ?\n                        imageFileSize: fileSize(e.target.files[0].size),\n                        imageHeight: img.height,\n                        imageWidth: img.width,\n                        imageSelected: true,\n                        imageSorted: false\n                    })\n                }\n            img.src = secondEvent.target.result;\n        }\n    \n        reader.readAsDataURL(e.target.files[0])\n    }\n\n    resetImage = () => {\n\n    }\n\n    downloadImage = () => {\n        const link = document.createElement('a')\n        link.download = 'testname'\n        link.href = this.canvasRef1.current.toDataURL()\n        link.click()\n    }\n\n    render() {\n        \n        const maxStyle = {\n            maxHeight: '700px',\n            width: 'auto' \n        }\n\n        const trigger = {\n            visibility: (this.state.imageSorted) ? 'visible' : 'hidden'\n        }\n\n        return (\n            <Container fluid className=\"align-items-center\"> \n                <Row className=\"justify-content-center\"> \n                    <div>\n                            <input type=\"file\" accept=\"image/*\" ref={this.uploadedRef} onChange={this.imageLoadHandler} />\n                        \n                        <select name=\"options\" id=\"sort-options\" onChange={this.setSortOption}>\n                            <option value=\"test\">Test</option>\n                            <option value=\"nativeSort_COL_2x\">Columned Native Sort x 2</option>\n                            <option value=\"nativeSort_COL\">Columned Native Sort</option>\n                            <option value=\"bubbleSort\">Bubble Sort</option>\n                            <option value=\"nativeSort\">Native Sort</option>\n                        </select>\n\n                        <button onClick={this.sortThePixels}>\n                            Sort image\n                            {/* {this.checkLoading()} */}\n                        </button>\n\n                        <button onClick={this.resetImage}>\n                            Reset image\n                        </button>\n\n                        <button onClick={this.downloadImage}> \n                            Download \n                        </button>\n                       \n                    </div>\n                </Row>\n\n                <Row className=\"justify-content-center\">\n\n                    <Col className=\"flex-grow-0\">\n                        <p style={trigger}> Sorted Image </p>\n                        <canvas ref={this.canvasRef1} style={maxStyle}/>\n                    </Col>\n\n                    <Col className=\"flex-grow-0\">\n                        <p style={trigger}> Original Image </p>\n                        <canvas ref={this.canvasRef2} style={maxStyle}/>\n                    </Col>\n\n                </Row>           \n            </Container>\n        )\n    }\n}\n\n\nexport default CanvasApp\n"]},"metadata":{},"sourceType":"module"}