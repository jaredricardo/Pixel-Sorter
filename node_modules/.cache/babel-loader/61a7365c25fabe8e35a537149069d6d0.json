{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/jaredricardo/Desktop/apps/Pixel-Sorter/src/components/CanvasApp.js\";\nimport React, { Component } from 'react';\nimport testImage from \"./test-images/300x200.jpg\";\nimport { sortByRed, sortByGreen, sortByBlue, test } from \"./functions\";\nimport Spinner from 'react-bootstrap/Spinner';\nimport { identifier } from '@babel/types';\nexport class CanvasApp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageLoading: false\n    };\n\n    this.drawNewImage = () => {\n      console.log(this.state);\n      if (!this.state.imageSelected) return alert(\"please load an image\");\n      this.setState({\n        imageLoading: true\n      });\n      console.log(this.state.imageLoading);\n      const canvas = this.canvasRef.current;\n      const ctx = canvas.getContext(\"2d\");\n      let copyData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n\n      if (this.state.currentSort === 'sortByRed') {\n        copyData = sortByRed(copyData.data, this.state.imageHeight, this.state.imageWidth);\n      }\n\n      if (this.state.currentSort === 'sortByGreen') {\n        copyData = sortByGreen(copyData.data, this.state.imageHeight, this.state.imageWidth);\n      }\n\n      if (this.state.currentSort === 'sortByBlue') {\n        copyData = sortByBlue(copyData.data, this.state.imageHeight, this.state.imageWidth);\n      }\n\n      if (this.state.currentSort === 'test') {\n        copyData = test(copyData.data, this.state.imageHeight, this.state.imageWidth);\n      }\n\n      ctx.putImageData(copyData, 0, 0);\n      this.setState({\n        imageLoading: false\n      });\n      console.log(this.state.imageLoading);\n    };\n\n    this.setSortOption = e => {\n      this.setState({\n        currentSort: e.target.value\n      });\n    };\n\n    this.imageLoadHandler = e => {\n      const canvas = this.canvasRef.current;\n      const ctx = canvas.getContext(\"2d\");\n      const reader = new FileReader();\n\n      reader.onload = function (event) {\n        const img = new Image();\n\n        img.onload = function () {\n          canvas.width = img.naturalWidth;\n          canvas.height = img.naturalHeight;\n          ctx.drawImage(img, 0, 0);\n        };\n\n        img.src = event.target.result;\n      };\n\n      reader.readAsDataURL(e.target.files[0]);\n      this.setState({\n        imageSelected: true,\n        imageHeight: 720,\n        // needs to be set dynamically\n        imageWidth: 1280 // needs to be set dybnamically \n\n      });\n    };\n\n    this.imageRef = /*#__PURE__*/React.createRef();\n    this.canvasRef = /*#__PURE__*/React.createRef();\n    this.state = {\n      imageSelected: false,\n      // imageLoading: false, \n      imageHeight: null,\n      imageWidth: null,\n      currentSort: 'test'\n    };\n  }\n\n  render() {\n    // const hiddenStyle = {\n    //     display: \"none\"\n    // }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: this.imageLoadHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"options\",\n        id: \"sort-options\",\n        onChange: this.setSortOption,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"sortByRed\",\n          children: \"Sort by red\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"sortByGreen\",\n          children: \"Sort by green\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"sortByBlue\",\n          children: \"Sort by blue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"sortByBright\",\n          children: \"Sort by brightness\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.drawNewImage,\n        children: [\"SORT!\", this.state.imageLoading === true ? /*#__PURE__*/_jsxDEV(Spinner, {\n          animation: \"border\",\n          size: \"sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 57\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: this.canvasRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nexport default CanvasApp;","map":{"version":3,"sources":["/Users/jaredricardo/Desktop/apps/Pixel-Sorter/src/components/CanvasApp.js"],"names":["React","Component","testImage","sortByRed","sortByGreen","sortByBlue","test","Spinner","identifier","CanvasApp","constructor","props","state","imageLoading","drawNewImage","console","log","imageSelected","alert","setState","canvas","canvasRef","current","ctx","getContext","copyData","getImageData","width","height","currentSort","data","imageHeight","imageWidth","putImageData","setSortOption","e","target","value","imageLoadHandler","reader","FileReader","onload","event","img","Image","naturalWidth","naturalHeight","drawImage","src","result","readAsDataURL","files","imageRef","createRef","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport testImage from \"./test-images/300x200.jpg\"\nimport { sortByRed, sortByGreen, sortByBlue, test } from \"./functions\"\nimport Spinner from 'react-bootstrap/Spinner';\nimport { identifier } from '@babel/types'\n\n\nexport class CanvasApp extends Component {\n    constructor(props) {\n        super(props)\n        this.imageRef = React.createRef()\n        this.canvasRef = React.createRef()\n        this.state = {\n            imageSelected: false,\n            // imageLoading: false, \n            imageHeight: null,\n            imageWidth: null,\n            currentSort: 'test'\n        }\n    }\n\n    state = {\n        imageLoading: false\n    }\n\n    // componentDidMount() {\n    //     const canvas = this.canvasRef.current\n    //     const img = this.imageRef.current\n     \n    //     const ctx = canvas.getContext(\"2d\")\n\n    //     canvas.height = 200\n    //     canvas.width = 300\n\n    //     img.onload = () => {\n    //         ctx.drawImage(img, 0, 0)\n    //       }\n\n    //     this.setState({\n    //         imageHeight:canvas.height,\n    //         imageWidth:canvas.width\n    //     })  \n    //   }\n\n\n\n      \n    drawNewImage = () => {\n\n        console.log(this.state)\n        if(!this.state.imageSelected) return alert(\"please load an image\")\n\n        this.setState({\n            imageLoading: true\n        })\n\n        console.log(this.state.imageLoading)\n\n        const canvas = this.canvasRef.current\n        const ctx = canvas.getContext(\"2d\")\n        let copyData = ctx.getImageData(0,0, canvas.width, canvas.height)\n\n        if(this.state.currentSort === 'sortByRed') {\n            copyData = sortByRed(copyData.data, this.state.imageHeight, this.state.imageWidth)\n        }\n        if(this.state.currentSort === 'sortByGreen') {\n            copyData = sortByGreen(copyData.data, this.state.imageHeight, this.state.imageWidth)\n        }\n        if(this.state.currentSort === 'sortByBlue') {\n            copyData = sortByBlue(copyData.data, this.state.imageHeight, this.state.imageWidth)\n        } \n        if(this.state.currentSort === 'test') {\n            copyData = test(copyData.data, this.state.imageHeight, this.state.imageWidth)\n        } \n\n        ctx.putImageData(copyData,0 ,0 )\n        \n        this.setState({\n            imageLoading:false\n        })\n        console.log(this.state.imageLoading)\n\n    }\n\n    setSortOption = (e) => {\n        this.setState({\n            currentSort: e.target.value\n        })\n    }\n\n    imageLoadHandler = (e) => {\n        const canvas = this.canvasRef.current\n        const ctx = canvas.getContext(\"2d\")\n        const reader = new FileReader();\n        reader.onload = function(event){\n        const img = new Image();\n        img.onload = function(){\n            canvas.width = img.naturalWidth;\n            canvas.height = img.naturalHeight;\n            ctx.drawImage(img,0,0);\n        }\n        img.src = event.target.result;\n        \n        }\n        reader.readAsDataURL(e.target.files[0]); \n        this.setState({\n            imageSelected: true,\n            imageHeight:720,      // needs to be set dynamically\n            imageWidth: 1280,    // needs to be set dybnamically \n        })\n    }\n\n    \n    render() {\n\n\n        // const hiddenStyle = {\n        //     display: \"none\"\n        // }\n\n\n        return (\n            <div> \n                \n                <input type=\"file\" onChange={this.imageLoadHandler}>\n                    \n                </input>\n\n                <select name=\"options\" id=\"sort-options\" onChange={this.setSortOption}>\n                    <option value=\"sortByRed\">Sort by red</option>\n                    <option value=\"sortByGreen\">Sort by green</option>\n                    <option value=\"sortByBlue\">Sort by blue</option>\n                    <option value=\"sortByBright\">Sort by brightness</option>\n                </select>\n\n                <button onClick={this.drawNewImage}>\n                    SORT!\n                    {this.state.imageLoading === true ? <Spinner animation=\"border\"  size=\"sm\"/> : null }\n                </button>\n\n                \n                <div className=\"container\">\n\n                    {/* <img ref={this.imageRef} src={testImage} />  */}\n\n                        <canvas ref={this.canvasRef} />  \n\n                </div>\n                \n           \n            </div>\n        )\n    }\n}\n\n\nexport default CanvasApp\n"]},"metadata":{},"sourceType":"module"}