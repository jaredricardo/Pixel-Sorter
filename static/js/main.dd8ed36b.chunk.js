(this["webpackJsonppixel-sorter"]=this["webpackJsonppixel-sorter"]||[]).push([[0],{21:function(e,t,a){},22:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),i=a.n(r),s=a(13),o=a.n(s),c=(a(21),a(22),a(6)),l=a(7),g=a(9),h=a(8);var d=a(26),u=a(27),m=a(28),f=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).sortThePixels=function(){if(!n.state.imageSelected)return alert("please load an image");var e=n.state.currentSort,t=n.canvasRef2.current,a=t.getContext("2d"),r=a.getImageData(0,0,t.width,t.height);"test"===e&&(r=function(e,t,a){for(var n=[],r=0;r<e.length;r+=4){var i=[e[r],e[r+1],e[r+2],e[r+3]];n.push(i)}for(var s=[],o=0;o<t;o++){for(var c=[],l=0;l<n.length;l+=t)c.push(n[l]);s.push(c)}!function(){for(var e=0;e<s.length;e++)s[e].sort((function(e,t){return e-t}))}();for(var g=[],h=0;h<t;h++)s[h].forEach((function(e){g.push(e[0],e[1],e[2],e[3])}));return new ImageData(new Uint8ClampedArray(g),a,t)}(r.data,n.state.imageHeight,n.state.imageWidth)),"nativeSort_COL_2x"===e&&(r=function(e,t,a){for(var n=[],r=0;r<e.length;r+=4){var i=[e[r],e[r+1],e[r+2],e[r+3]];n.push(i)}for(var s=[],o=0;o<t;o++){for(var c=[],l=0;l<n.length;l+=t)c.push(n[l]);s.push(c)}!function(){for(var e=0;e<s.length;e++)e%2===0?s[e].sort((function(e,t){return e[0]+e[1]+e[2]+e[3]-(t[0]+t[1]+t[2]+t[3])})):s[e].sort((function(e,t){var a=e[0]+e[1]+e[2]+e[3];return t[0]+t[1]+t[2]+t[3]-a}))}();for(var g=[],h=0;h<t;h++)s[h].forEach((function(e){g.push(e[0],e[1],e[2],e[3])}));return new ImageData(new Uint8ClampedArray(g),a,t)}(r.data,n.state.imageHeight,n.state.imageWidth)),"nativeSort_COL"===e&&(r=function(e,t,a){for(var n=[],r=0;r<e.length;r+=4){var i=[e[r],e[r+1],e[r+2],e[r+3]];n.push(i)}for(var s=[],o=0;o<t;o++){for(var c=[],l=0;l<n.length;l+=t)c.push(n[l]);s.push(c)}s.forEach((function(e){e.sort((function(e,t){return e[0]+e[1]+e[2]+e[3]-(t[0]+t[1]+t[2]+t[3])}))}));for(var g=[],h=0;h<t;h++)s[h].forEach((function(e){g.push(e[0],e[1],e[2],e[3])}));return new ImageData(new Uint8ClampedArray(g),a,t)}(r.data,n.state.imageHeight,n.state.imageWidth)),"nativeSort"===e&&(r=function(e,t,a){for(var n=[],r=0;r<e.length;r+=4){var i=[e[r],e[r+1],e[r+2],e[r+3]];n.push(i)}n.sort((function(e,t){return e[0]+e[1]+e[2]+e[3]-(t[0]+t[1]+t[2]+t[3])}));var s=[];return n.forEach((function(e){s.push(e[0],e[1],e[2],e[3])})),new ImageData(new Uint8ClampedArray(s),a,t)}(r.data,n.state.imageHeight,n.state.imageWidth)),a.putImageData(r,0,0),n.setState({imageSorted:!0})},n.setSortOption=function(e){n.setState({currentSort:e.target.value})},n.imageLoadHandler=function(e){if(e.target.files[0].size>104857600)return alert("File size exceeds 100MB");var t=n.canvasRef1.current,a=t.getContext("2d"),r=n.canvasRef2.current,i=r.getContext("2d"),s=new FileReader,o=new Image;s.onload=function(s){o.onload=function(){t.width=o.width,t.height=o.height,r.width=o.width,r.height=o.height,a.drawImage(o,0,0),i.drawImage(o,0,0),n.setState({currentImageSrc:s.target.result,imageFileSize:function(e){var t=(e/1e6).toFixed(1)+"MB",a=(e/1e3).toFixed(1)+"KB";return e.toString().length>=7?t:a}(e.target.files[0].size),imageFileName:e.target.files[0].name,imageHeight:o.height,imageWidth:o.width,imageSelected:!0,imageSorted:!1})},o.src=s.target.result},s.readAsDataURL(e.target.files[0])},n.resetImage=function(){if(!n.state.imageSelected)return alert("No image selected");if(!n.state.imageSorted)return alert("Image already reset");var e=n.canvasRef2.current,t=e.getContext("2d"),a=new Image;a.onload=function(){e.width=a.width,e.height=a.height,t.drawImage(a,0,0)},a.src=n.state.currentImageSrc,n.setState({imageSorted:!1})},n.downloadImage=function(){if(!n.state.imageSorted)return alert("Image must be sorted before downloading");var e=document.createElement("a");e.download="sorted "+n.state.imageFileName,e.href=n.canvasRef2.current.toDataURL(),e.click()},n.imageRef=i.a.createRef(),n.canvasRef1=i.a.createRef(),n.canvasRef2=i.a.createRef(),n.state={currentImageSrc:null,imageFileSize:null,imageFileName:null,imageHeight:null,imageWidth:null,imageSelected:!1,imageSorted:!1,currentSort:"test"},n}return Object(l.a)(a,[{key:"render",value:function(){var e={maxHeight:"700px",width:"auto"},t={visibility:this.state.imageSelected?"visible":"hidden",textAlign:"center"};return Object(n.jsxs)(d.a,{fluid:!0,className:"ghost-body",children:[Object(n.jsxs)(u.a,{children:[Object(n.jsx)(m.a,{className:"p-0",md:12,lg:6,children:Object(n.jsxs)("div",{className:"top-margin text-center",children:[Object(n.jsx)("input",{type:"file",accept:"image/*",ref:this.uploadedRef,onChange:this.imageLoadHandler}),Object(n.jsxs)("select",{name:"options",id:"sort-options",onChange:this.setSortOption,children:[Object(n.jsx)("option",{value:"test",children:"Test"}),Object(n.jsx)("option",{value:"nativeSort_COL_2x",children:"Columned Native Sort x 2"}),Object(n.jsx)("option",{value:"nativeSort_COL",children:"Columned Native Sort"}),Object(n.jsx)("option",{value:"nativeSort",children:"Native Sort"})]})]})}),Object(n.jsx)(m.a,{className:"p-0",md:12,lg:6,children:Object(n.jsxs)("div",{className:"text-center top-margin",children:[Object(n.jsx)("button",{className:"btn btn-primary",onClick:this.sortThePixels,children:"Sort Image"}),Object(n.jsx)("button",{className:"btn btn-primary",onClick:this.resetImage,children:"Reset Image"}),Object(n.jsx)("button",{className:"btn btn-primary",onClick:this.downloadImage,children:"Download"})]})})]}),Object(n.jsxs)(u.a,{className:"justify-content-center",children:[Object(n.jsxs)(m.a,{className:"flex-grow-0",children:[Object(n.jsx)("p",{style:t,children:" Original "}),Object(n.jsx)("canvas",{ref:this.canvasRef1,style:e})]}),Object(n.jsxs)(m.a,{className:"flex-grow-0",children:[Object(n.jsx)("p",{style:t,children:" Sorted "}),Object(n.jsx)("canvas",{ref:this.canvasRef2,style:e})]})]})]})}}]),a}(r.Component),v=(a(23),a(12)),j=a.n(v),p=a(14),b=a(11);r.Component;var x=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(f,{})})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,29)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))};o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(x,{})}),document.getElementById("root")),S()}},[[25,1,2]]]);
//# sourceMappingURL=main.dd8ed36b.chunk.js.map